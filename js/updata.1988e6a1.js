(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["updata"],{"0d1b":function(t,e,s){},1591:function(t,e,s){"use strict";var n=s("0d1b"),a=s.n(n);a.a},9551:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"updata"},[s("div",{staticClass:"fojing"},[s("p",{attrs:{align:"center"}},[t._v("交易地址: "+t._s(t.signer)+" [数据永久保存地址]")]),s("div",{staticClass:"container"},[s("div",{staticClass:"contact"},[s("div",{staticClass:"row"},[s("label",[t._v("文章标题 [ <=40 ]：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("label",[t._v("文章描述 [ <=200 ] ：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],attrs:{id:"message",rows:"7",cols:"10"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}}),s("label",[t._v("文章内容 [ 支持html ]：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"message",rows:"24",cols:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),s("div",{staticClass:"submit",on:{click:function(e){return t.updata()}}},[t._v("发起上链交易")])])])])])])},a=[],i=s("a28f"),o=i["a"],r=(s("1591"),s("2877")),c=Object(r["a"])(o,n,a,!1,null,"2ca88e25",null);e["default"]=c.exports},a28f:function(t,e,s){"use strict";(function(t){s("6b54");var n=s("c0d6");e["a"]={name:"updata",store:n["a"],data:function(){return{title:"",desc:"",content:"",rtxid:"",sender:n["a"].state.sender}},mounted:function(){n["a"].commit("getsigner")},computed:{signer:function(){return this.$store.state.signer}},methods:{updata:function(){var e=this;if(!this.title|!this.desc|!this.content)alert("存在空值，请检查后重试");else if(this.title.length>40|this.desc.length>200)alert("标题长度或描述过长，请检查后重试");else{if(!this.signer)return alert("请先授权钱包地址获取权限"),void location.reload();var s="";s=this.signer.toLowerCase()===this.sender.toLowerCase()?this.$store.state.data1:this.$store.state.data2,console.log(s);var n=JSON.stringify({title:this.title,desc:this.desc,info:"佛经在线"});console.log(n);var a=new t(n).toString("base64"),i=new t(a,"base64").toString("hex"),o=[{to:s,value:"1",data:"0x"+i,comment:"文章上链[头部数据]"}];i=new t(this.content).toString("base64"),i=new t(i,"base64").toString("hex");var r=2e4,c=0,l=i.length/r;while(c<l){var d=i.substr(0,r);i=i.substring(r),o.push({to:s,value:"1",data:"0x"+d,comment:"文章上链[文章数据]"}),c++}this.rtxid="",connex.vendor.sign("tx").request(o).then(function(t){alert("文章上链成功，txid: "+t.txid+" .待链上确认后可以在我的数据中查看到。"),e.title="",e.desc="",e.content=""})}}}}}).call(this,s("b639").Buffer)}}]);
//# sourceMappingURL=updata.1988e6a1.js.map